(this.webpackJsonpfinal_project=this.webpackJsonpfinal_project||[]).push([[0],{48:function(e,t,a){e.exports=a(82)},53:function(e,t,a){},54:function(e,t,a){},82:function(e,t,a){"use strict";a.r(t);var n=a(2),r=a.n(n),l=a(18),c=a.n(l),o=(a(53),a(21)),s=a(12),i=(a(54),a(55),a(83)),u=a(84),m=a(85),g=a(86),d=a(87),f=a(101),E=a(102),h=a(88),p=a(103),v=a(89),b=function(e){var t=e.userData,a=Object(n.useState)(!1),l=Object(s.a)(a,2);l[0],l[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(i.a,{color:"light",light:!0,expand:"md"},r.a.createElement(u.a,{href:"/"},"Classic Course Manager"),r.a.createElement(m.a,{className:"mr-auto"},r.a.createElement(g.a,null,r.a.createElement(d.a,null," About")),r.a.createElement(g.a,null,r.a.createElement(d.a,null," GitHub")),r.a.createElement(g.a,null,r.a.createElement(d.a,null," Help "))),r.a.createElement(D,{userData:t})))},w={borderRadius:"50%",maxWidth:"45px",float:"left",display:"inline-box"},j={float:"right",marginTop:"10px",marginLeft:"5px"},D=function(e){var t=e.userData;return r.a.createElement(r.a.Fragment,null,r.a.createElement(f.a,{inNavbar:!0},r.a.createElement(E.a,{color:"light"},r.a.createElement(h.a,{style:w,right:!0,object:!0,src:t.picture,alt:"User Image"}),r.a.createElement("p",{style:j},r.a.createElement("b",null,t.given_name))),r.a.createElement(p.a,{right:!0},r.a.createElement(v.a,{href:"/logout"}," Logout "))))},y=a(90),O=a(91),S=a(92),x=a(93),C=a(41),T={padding:"10px",margin:"5px",textAlign:"left"},N={fontSize:"0.85vw"},k={width:"40%"},R=function(e){var t=e.courseName,a=e.subjectName,n=e.section,l=e.professorName,c=e.timings,o=e.conflict,s=e.handleRemoveButtonClick,i=e.crn,u=function(e){var t=e.getHours(),a=e.getMinutes(),n=t>=12?"pm":"am";return(t=(t%=12)||12)+":"+(a=a<10?"0"+a:a)+" "+n};return r.a.createElement(r.a.Fragment,null,r.a.createElement(y.a,{style:T},r.a.createElement(O.a,null,r.a.createElement("h4",null,t),o?r.a.createElement(S.a,{style:k,pill:!0,color:"danger"},"CONFLICT"):""),r.a.createElement(x.a,null,a," - ",n),r.a.createElement(x.a,null,"Professor ",l),r.a.createElement("br",null),null===c||void 0===c?void 0:c.map((function(e,t){return r.a.createElement(x.a,{key:t,style:N},e.weekday,": ",u(e.start)," to ",u(e.end))})),r.a.createElement(C.a,{color:"danger",onClick:function(){s(i)}}," Remove ")))},H=a(94),F=a(95),I=a(96),_=a(44),B=a(97),M=function(e){var t=e.requestError,a=e.handleCRNSubmit,n=e.setInputCRN,l=e.inputCRN;return r.a.createElement(r.a.Fragment,null,r.a.createElement(H.a,null,r.a.createElement("form",{onSubmit:function(e){return a(e)},"data-testid":"class-search-form"},r.a.createElement(F.a,null,r.a.createElement(I.a,{addonType:"prepend"},r.a.createElement(_.a,null,"CRN")),r.a.createElement(B.a,{name:"crn",value:l,onChange:function(e){return n(e.target.value)},placeholder:"12345",style:t?{borderColor:"red"}:void 0,"data-testid":"crn-input"})))))},W=a(98),A=a(99),L=a(100),J=a(45),q=a(47),G=a(46),P=(a(73),a(74),function(e){e.events;var t=e.academicCalEvents,a=Object(n.useState)(new Date),l=Object(s.a)(a,2),c=(l[0],l[1],r.a.createRef());Object(n.useEffect)((function(){var e=Object(o.a)(t),a=c.current;if(a){var n=a.getApi(),r=e.sort((function(e,t){return e.start>t.start?1:-1}));e.length>1&&n.gotoDate(r[0].start)}}),[t]);var i=t,u=function(e){var t={startTime:"08:00",endTime:"17:45",defaultDate:new Date};if(e.length<1)return t;e.sort((function(e,t){return e.start>t.start?1:-1})),t.defaultDate=e[0].start,console.log(t.defaultDate);var a=(e[0].start.getHours()-1).toString(),n=e[0].start.getMinutes().toString();a=("00000"+a).slice(-2),n=("00000"+n).slice(-2);var r=(e[e.length-1].end.getHours()+1).toString(),l=e[e.length-1].end.getMinutes().toString();r=("00000"+r).slice(-2),l=("00000"+l).slice(-2);var c=e[e.length-1].end.getHours()>17,o=e[0].start.getHours()<8;return e[0].start.getHours()-e[e.length-1].end.getHours()>=4||c||o||(t.startTime="".concat(a,":").concat(n),t.endTime="".concat(r,":").concat(l)),t};return r.a.createElement(r.a.Fragment,null,r.a.createElement(J.a,{events:i,defaultView:"timeGridWeek",plugins:[q.a,G.a],weekends:!1,slotDuration:{minutes:30},minTime:u(i).startTime,maxTime:u(i).endTime,slotEventOverlap:!0,allDaySlot:!0,slotLabelInterval:{minutes:90},ref:c}))});var z=function(){var e=Object(n.useState)(""),t=Object(s.a)(e,2),a=t[0],l=t[1],c=Object(n.useState)([]),i=Object(s.a)(c,2),u=i[0],m=i[1],g=Object(n.useState)(!1),d=Object(s.a)(g,2),f=d[0],E=d[1],h=Object(n.useState)([]),p=Object(s.a)(h,2),v=p[0],w=p[1],j=Object(n.useState)({}),D=Object(s.a)(j,2),y=D[0],O=D[1];Object(n.useEffect)((function(){fetch("/api/getacademiccalinfo").then((function(e){return e.json()})).then((function(e){var t;e.error?console.log("Error when fetching response: "+e.message):(t=e.events.map((function(e){var t=new Date,a=new Date;e.start.date&&e.end.date?(t=new Date(Date.parse(e.start.date)),t=new Date(Date.parse(e.end.date))):e.start.dateTime&&e.end.dateTime&&(t=new Date(Date.parse(e.start.dateTime)),a=new Date(Date.parse(e.end.dateTime)));var n=t.getTime()-a.getTime()>828e5;return console.log(t.getTime()-a.getTime()>828e5),{start:t,end:a,title:e.summary,allDay:n}})),console.log(t),w(t),fetch("/api/user_data").then((function(e){return e.json()})).then((function(e){O(e.session)})))}))}),[]);var S=function(e){var t=u;t=t.filter((function(t){return t.crn!==e})),console.log(t),m(t)},x={borderColor:"grey",borderWidth:"2px",borderStyle:"solid"};return r.a.createElement("div",{className:"App"},r.a.createElement(b,{userData:y}),r.a.createElement(H.a,{fluid:!0},r.a.createElement(W.a,null,r.a.createElement(A.a,{xl:6},r.a.createElement(M,{handleCRNSubmit:function(e){e.preventDefault(),E(!1),u.filter((function(e){return e.crn==a})).length<1?fetch("/api/getinfo?crn="+a).then((function(e){return e.json()})).then((function(e){if(e.error)throw new Error("Course does not exist.");return e})).then((function(e){var t,a=e.results[0].timings.map((function(e){return{weekday:new Date(e.start).getDay(),start:new Date(e.start),end:new Date(e.end)}}));t={courseName:e.results[0].name,subjectName:e.results[0].sname,section:e.results[0].section,professorName:e.results[0].professor__name,crn:e.results[0].crn.toString(),timings:a},console.log(JSON.stringify(t)),m([].concat(Object(o.a)(u),[t]))})).catch((function(e){E(!0),console.log("OOOO",e)})).finally((function(){l("")})):(l(""),E(!0))},setInputCRN:l,inputCRN:a,requestError:f}),f?r.a.createElement(L.a,{label:"errmsg",color:"danger"},"There was an error. Please try again."):""),r.a.createElement(A.a,{xl:6},r.a.createElement(H.a,null,r.a.createElement(W.a,null,r.a.createElement(A.a,{xs:4},"Something"),r.a.createElement(A.a,{xs:4},"Something"),r.a.createElement(A.a,{xs:4},"Something")),r.a.createElement(W.a,null,r.a.createElement(A.a,{xs:4},"Something"),r.a.createElement(A.a,{xs:4},"Something"),r.a.createElement(A.a,{xs:4},"Something"))))),r.a.createElement(W.a,null,r.a.createElement(A.a,{xl:3,style:x},u.map((function(e,t){return r.a.createElement(R,Object.assign({key:t,handleRemoveButtonClick:S},e))}))),r.a.createElement(A.a,{xl:3,style:x},u.map((function(e,t){return r.a.createElement(R,Object.assign({key:t,handleRemoveButtonClick:S},e))}))),r.a.createElement(A.a,{xl:6,style:x},r.a.createElement(P,{events:u,academicCalEvents:v})))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(z,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[48,1,2]]]);
//# sourceMappingURL=main.8615f7e5.chunk.js.map